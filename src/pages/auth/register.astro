---
// src/pages/auth/register.astro
// Página de registro

import BaseLayout from "@/layouts/BaseLayout.astro";
import Button from "@/components/ui/Button.astro";

export const prerender = false;

const title = "Crear Cuenta";
const description = "Crea una cuenta en AutoPartsStore";
---

<BaseLayout title={title} description={description}>
  <div class="min-h-screen bg-white flex items-center justify-center px-4 sm:px-6 lg:px-8 py-8 overflow-x-hidden overflow-y-auto">
    <div class="w-full max-w-sm">
      <!-- Card -->
      <div class="bg-white rounded-lg shadow-lg p-5 md:p-7">
        <!-- Logo -->
        <div class="text-center mb-8">
          <a href="/" class="inline-block">
            <img 
              src="https://res.cloudinary.com/ddi0g76bk/image/upload/v1768210429/logo_btu63x.webp" 
              alt="AutoPartsStore" 
              class="h-24 w-24 md:h-32 md:w-32 mx-auto mb-0"
            />
          </a>
          <h1 class="text-2xl font-serif font-bold text-charcoal-900 -mt-3">AutoPartsStore</h1>
          <p class="text-charcoal-600 mt-1.5 text-sm">Crea una nueva cuenta</p>
        </div>

        <!-- Form -->
        <form id="register-form" class="space-y-3.5" method="POST" action="/api/auth/register">
          <!-- Full Name -->
          <div>
            <label for="fullname" class="block text-xs font-medium text-charcoal-900 mb-1">
              Nombre Completo
            </label>
            <input
              type="text"
              id="fullname"
              name="fullname"
              required
              class="w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"
              placeholder="Tu Nombre"
            />
          </div>

          <!-- Email -->
          <div>
            <label for="email" class="block text-xs font-medium text-charcoal-900 mb-1">
              Correo Electrónico
            </label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"
              placeholder="tu@email.com"
            />
          </div>

          <!-- Teléfono -->
          <div>
            <label for="telefono" class="block text-xs font-medium text-charcoal-900 mb-1">
              Teléfono
            </label>
            <input
              type="tel"
              id="telefono"
              name="telefono"
              class="w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"
              placeholder="+34 600 000 000"
            />
          </div>

          <!-- Password -->
          <div>
            <label for="password" class="block text-xs font-medium text-charcoal-900 mb-1">
              Contraseña
            </label>
            <input
              type="password"
              id="password"
              name="password"
              required
              minlength="6"
              class="w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"
              placeholder="Mínimo 6 caracteres"
            />
          </div>

          <!-- Confirm Password -->
          <div>
            <label for="confirm-password" class="block text-xs font-medium text-charcoal-900 mb-1">
              Confirmar Contraseña
            </label>
            <input
              type="password"
              id="confirm-password"
              name="confirm-password"
              required
              minlength="6"
              class="w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"
              placeholder="Repite tu contraseña"
            />
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors text-sm mt-2"
          >
            Crear Cuenta
          </button>
        </form>

        <!-- Divider -->
        <div class="flex items-center gap-3 my-4">
          <div class="flex-1 h-px bg-gray-300"></div>
          <span class="text-xs text-gray-600">o</span>
          <div class="flex-1 h-px bg-gray-300"></div>
        </div>

        <!-- Sign In Link -->
        <p class="text-center text-charcoal-600 text-xs mt-4">
          ¿Ya tienes cuenta? 
          <a href="/auth/login" class="text-red-600 hover:text-red-700 font-medium">
            Inicia sesión aquí
          </a>
        </p>
      </div>
    </div>
  </div>
</BaseLayout>
